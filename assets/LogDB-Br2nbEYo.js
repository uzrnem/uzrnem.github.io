import{_ as C,c as g,a as t,w as p,v as m,d as O,b as x,F as W,r as B,e as U,t as J,o as h}from"./index-BkFma_xu.js";const j={name:"Home",data(){return{input:{formatString:"",resultType:"json",ignoreKeys:[""],resultFormat:""},resultPara:"",inputLog:"",outputLog:""}},components:{},mounted(){this.loadFromLocalStorage()},methods:{addReplace(){this.input.ignoreKeys.push("")},removeReplace(l){this.input.ignoreKeys.splice(l,1)},loadFromLocalStorage(){try{var l=localStorage.getItem("input");l&&l.length>0&&(this.input=JSON.parse(l))}catch{}this.inputLog=localStorage.getItem("inputLog")},loadToLocationStorage(){localStorage.setItem("input",JSON.stringify(this.input)),localStorage.setItem("inputLog",this.inputLog)},submit(){this.loadToLocationStorage();for(var l=[],s=0;s<this.input.formatString.length;s++){var v=this.input.formatString.indexOf("{{",s),i=this.input.formatString.indexOf("}}",s);if(v>0&&i>0){var o=this.input.formatString.substring(v+2,i),d=this.input.formatString.substring(s>0?s+1:0,v),e=this.input.formatString.indexOf("{{",i);e<0&&(e=this.input.formatString.length);var c=this.input.formatString.substring(i+2,e);l.push({name:o,startWith:d,endsWith:c})}i>s&&(s=i)}for(var r=[],k=0,L=0,F=this.inputLog.split(`
`),a=0;a<F.length;a++){for(var f=F[a],_=0,R={},y=this.input.formatString,u=0;u<l.length;u++){var n=l[u],w=f.indexOf(n.startWith,_),S=f.indexOf(n.endsWith,w),T=f.substring(w+n.startWith.length,S);R[n.name]=T,S>_&&(_=S),y=y.replace(`{{${n.name}}}`,T)}r.push(R),y==f?k++:L++}if(this.resultPara=`Lines Parsed Result , success: ${k}, failed: ${L}`,this.input.resultType=="json"){var D=JSON.stringify(r,(N,V)=>{if(this.input.ignoreKeys.indexOf(N)<0)return V},2);this.outputLog=D}else{for(var K="",a=0;a<r.length;a++){for(var b=this.input.resultFormat,u=0;u<l.length;u++){var n=l[u];b=b.replace(`{{${n.name}}}`,r[a][n.name])}K+=b+`
`}this.outputLog=K}},replacer(l,s){if(this.input.ignoreKeys.indexOf(l)<0)return s}}},A={class:"container-fluid m-1"},M={class:"row"},E={class:"col-lg-4 col-md-4 card"},H={class:"row"},P={class:"col-lg-12",style:{padding:"5px"}},q=t("span",null,"Format String",-1),z={class:"col-lg-12",style:{padding:"5px"}},G=t("span",null,"Result",-1),Q={class:"form-check"},X=t("label",{class:"form-check-label",for:"flexRadioDefault1"}," Json Format ",-1),Y={class:"form-check"},Z=t("label",{class:"form-check-label",for:"flexRadioDefault2"}," Alternate Format ",-1),I={key:0,class:"col-lg-12",style:{padding:"5px"}},$={class:"form-check border"},tt={class:"row"},st={class:"col-sm-9 col-md-9"},ot=["onUpdate:modelValue"],et={class:"col-sm-3 col-md-3"},lt=["onClick"],nt={key:1,class:"col-lg-12",style:{padding:"5px"}},it=t("span",null,"Result Format",-1),rt={class:"row"},at={class:"col-md-12",style:{"margin-top":"15px"}},ut=t("span",{class:"glyphicon glyphicon-check"},null,-1),pt={class:"col-lg-8 col-md-8"},ct={style:{color:"red"}},dt=t("span",null,"Input Logs",-1),gt=t("span",{style:{"margin-top":"1rem"}},"Output Logs",-1);function mt(l,s,v,i,o,d){return h(),g("div",A,[t("div",M,[t("div",E,[t("div",H,[t("div",P,[q,p(t("textarea",{class:"form-control",rows:"5","onUpdate:modelValue":s[0]||(s[0]=e=>o.input.formatString=e)},null,512),[[m,o.input.formatString]])]),t("div",z,[G,t("div",Q,[p(t("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":s[1]||(s[1]=e=>o.input.resultType=e),value:"json",id:"flexRadioDefault1"},null,512),[[O,o.input.resultType]]),X]),t("div",Y,[p(t("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":s[2]||(s[2]=e=>o.input.resultType=e),value:"log",id:"flexRadioDefault2"},null,512),[[O,o.input.resultType]]),Z])]),o.input.resultType=="json"?(h(),g("div",I,[t("div",$,[t("span",null,[x("Ignore Keys "),t("span",{class:"badge green-caught",onClick:s[3]||(s[3]=e=>d.addReplace())},"+ add key")]),(h(!0),g(W,null,B(o.input.ignoreKeys,(e,c)=>(h(),g("div",{class:"form-group",key:c},[t("div",tt,[t("div",st,[p(t("input",{class:"form-control",type:"text",placeholder:"Key","onUpdate:modelValue":r=>o.input.ignoreKeys[c]=r},null,8,ot),[[m,o.input.ignoreKeys[c]]])]),t("div",et,[t("span",{class:"badge red-caught",onClick:r=>d.removeReplace(c)},"-",8,lt)])])]))),128))])])):U("",!0),o.input.resultType=="log"?(h(),g("div",nt,[it,p(t("textarea",{class:"form-control",rows:"5","onUpdate:modelValue":s[4]||(s[4]=e=>o.input.resultFormat=e)},null,512),[[m,o.input.resultFormat]])])):U("",!0)]),t("div",rt,[t("div",at,[t("a",{onClick:s[5]||(s[5]=e=>d.submit()),class:"btn bg-caught",style:{"margin-bottom":"5px","margin-right":"5px"}},[ut,x("Â Apply ")])])])]),t("div",pt,[t("p",ct,J(o.resultPara),1),dt,p(t("textarea",{class:"form-control",rows:"14","onUpdate:modelValue":s[6]||(s[6]=e=>o.inputLog=e)},null,512),[[m,o.inputLog]]),gt,p(t("textarea",{class:"form-control",rows:"14","onUpdate:modelValue":s[7]||(s[7]=e=>o.outputLog=e)},null,512),[[m,o.outputLog]])])])])}const vt=C(j,[["render",mt]]);export{vt as default};
