import{_ as D,c as m,a as t,w as u,v as h,d as O,b as U,F as N,r as C,e as W,t as B,o as f}from"./index-CRInGMWP.js";const J={name:"Home",data(){return{input:{formatString:"",resultType:"json",ignoreKeys:[""],resultFormat:""},resultPara:"",inputLog:"",outputLog:""}},components:{},mounted(){this.loadFromLocalStorage()},methods:{addReplace(){this.input.ignoreKeys.push("")},removeReplace(l){this.input.ignoreKeys.splice(l,1)},loadFromLocalStorage(){try{var l=localStorage.getItem("input");l&&l.length>0&&(this.input=JSON.parse(l))}catch{}this.inputLog=localStorage.getItem("inputLog")},loadToLocationStorage(){localStorage.setItem("input",JSON.stringify(this.input)),localStorage.setItem("inputLog",this.inputLog)},submit(){this.loadToLocationStorage();for(var l=[],s=0;s<this.input.formatString.length;s++){var v=this.input.formatString.indexOf("{{",s),n=this.input.formatString.indexOf("}}",s);if(v>-1&&n>-1){var o=this.input.formatString.substring(v+2,n),c=this.input.formatString.substring(s>0?s+1:0,v),e=this.input.formatString.indexOf("{{",n);e<0&&(e=this.input.formatString.length);var d=this.input.formatString.substring(n+2,e);l.push({name:o,startWith:c,endsWith:d})}n>s&&(s=n)}for(var r=[],F=0,R=0,T=this.inputLog.split(`
`),a=0;a<T.length;a++){for(var g=T[a],_=0,w={},y=this.input.formatString,p=0;p<l.length;p++){var i=l[p],S=g.indexOf(i.startWith,_),b=g.indexOf(i.endsWith,S+i.startWith.length),k=g.substring(S+i.startWith.length,b);i.endsWith==""&&(k=g.substring(S+i.startWith.length)),w[i.name]=k,b>_&&(_=b),y=y.replace(`{{${i.name}}}`,k)}r.push(w),y==g?F++:R++}if(this.resultPara=`Lines Parsed Result , success: ${F}, failed: ${R}`,this.input.resultType=="json"){var x=JSON.stringify(r,this.replacer,2);this.outputLog=x}else{for(var K="",a=0;a<r.length;a++){for(var L=this.input.resultFormat,p=0;p<l.length;p++){var i=l[p];L=L.replace(`{{${i.name}}}`,r[a][i.name])}K+=L+`
`}this.outputLog=K}},replacer(l,s){if(!(typeof s=="string"&&this.input.ignoreKeys.indexOf(l)>0))return s}}},j={class:"container-fluid m-1"},V={class:"row"},A={class:"col-lg-4 col-md-4 card"},M={class:"row"},E={class:"col-lg-12",style:{padding:"5px"}},H=t("span",null,"Format String",-1),q={class:"col-lg-12",style:{padding:"5px"}},z=t("span",null,"Result",-1),G={class:"form-check"},P=t("label",{class:"form-check-label",for:"flexRadioDefault1"}," Json Format ",-1),Q={class:"form-check"},X=t("label",{class:"form-check-label",for:"flexRadioDefault2"}," Alternate Format ",-1),Y={key:0,class:"col-lg-12",style:{padding:"5px"}},Z={class:"form-check border"},I={class:"row"},$={class:"col-sm-9 col-md-9"},tt=["onUpdate:modelValue"],st={class:"col-sm-3 col-md-3"},ot=["onClick"],et={key:1,class:"col-lg-12",style:{padding:"5px"}},lt=t("span",null,"Result Format",-1),it={class:"col-md-12",style:{"margin-top":"15px"}},nt={style:{color:"red"}},rt=t("span",{class:"glyphicon glyphicon-check"},null,-1),at={class:"col-lg-8 col-md-8 card"},pt=t("span",null,"Input Logs",-1),ut=t("span",{style:{"margin-top":"1rem"}},"Output Logs",-1);function dt(l,s,v,n,o,c){return f(),m("div",j,[t("div",V,[t("div",A,[t("div",M,[t("div",E,[H,u(t("textarea",{class:"form-control",rows:"5","onUpdate:modelValue":s[0]||(s[0]=e=>o.input.formatString=e)},null,512),[[h,o.input.formatString]])]),t("div",q,[z,t("div",G,[u(t("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":s[1]||(s[1]=e=>o.input.resultType=e),value:"json",id:"flexRadioDefault1"},null,512),[[O,o.input.resultType]]),P]),t("div",Q,[u(t("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":s[2]||(s[2]=e=>o.input.resultType=e),value:"log",id:"flexRadioDefault2"},null,512),[[O,o.input.resultType]]),X])]),o.input.resultType=="json"?(f(),m("div",Y,[t("div",Z,[t("span",null,[U("Ignore Keys "),t("span",{class:"badge green-caught",onClick:s[3]||(s[3]=e=>c.addReplace())},"+ add key")]),(f(!0),m(N,null,C(o.input.ignoreKeys,(e,d)=>(f(),m("div",{class:"form-group",key:d},[t("div",I,[t("div",$,[u(t("input",{class:"form-control",type:"text",placeholder:"Key","onUpdate:modelValue":r=>o.input.ignoreKeys[d]=r},null,8,tt),[[h,o.input.ignoreKeys[d]]])]),t("div",st,[t("span",{class:"badge red-caught",onClick:r=>c.removeReplace(d)},"-",8,ot)])])]))),128))])])):W("",!0),o.input.resultType=="log"?(f(),m("div",et,[lt,u(t("textarea",{class:"form-control",rows:"5","onUpdate:modelValue":s[4]||(s[4]=e=>o.input.resultFormat=e)},null,512),[[h,o.input.resultFormat]])])):W("",!0),t("div",it,[t("p",nt,B(o.resultPara),1),t("a",{onClick:s[5]||(s[5]=e=>c.submit()),class:"btn bg-caught",style:{"margin-bottom":"5px","margin-right":"5px"}},[rt,U("Â Apply ")])])])]),t("div",at,[pt,u(t("textarea",{class:"form-control",rows:"13","onUpdate:modelValue":s[6]||(s[6]=e=>o.inputLog=e)},null,512),[[h,o.inputLog]]),ut,u(t("textarea",{class:"form-control",rows:"13","onUpdate:modelValue":s[7]||(s[7]=e=>o.outputLog=e)},null,512),[[h,o.outputLog]])])])])}const gt=D(J,[["render",dt]]);export{gt as default};
